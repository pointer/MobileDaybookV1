webpackJsonp([2,0],{0:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=n(265),a=s(i),o=n(243),r=(s(o),n(242)),l=s(r),c=n(180),d=s(c),u=n(249),g=s(u),m=n(179),p=n(237),f=(s(p),n(236));s(f);a.default.config.productionTip=!1,a.default.use(l.default),a.default.use(m.VueHammer);var h=window.Dom7;a.default.prototype.Dom7=h,a.default.prototype.$$=h,a.default.prototype.Template7=window.Template7,a.default.prototype.$t7=window.Template7;new a.default({el:"#app",template:"<app/>",framework7:{root:"#app",id:"io.mobile.daybook",name:"Mobile Daybook",theme:"auto",routes:d.default},components:{app:g.default}}).$mount("#app")},180:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{path:"/parameters/",component:n(250),name:"about"},{path:"/login/",component:n(255),name:"login"},{path:"/activities/",component:n(251),name:"activities"},{path:"/instructions/",component:n(254),name:"instructions"},{path:"/punchclock/",component:n(256),name:"punchclock"},{path:"/incident/",component:n(253),name:"incident"},{path:"/daybook/",component:n(252),name:"daybook"}]},181:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=s(i);e.default={name:"App",data:function(){return{signInOutTitle:"Sign In",loginScreenOpened:!1,username:null,password:null,baseUrl:null,uid:null,todos:[],errors:[],isLoggedIn:!1,loginTitle:"Connecter",loginScreenTitle:"Connection"}},created:function(){this.baseUrl=window.localStorage.getItem("baseUrl"),this.username=window.localStorage.getItem("username"),this.uid=window.localStorage.getItem("uid"),this.isLoggedIn=window.sessionStorage.getItem("isLoggedIn"),this.password=window.sessionStorage.getItem("password"),this.loginTitle="true"===this.isLoggedIn?"Deconnecter":"Connecter",this.signInOutTitle="true"===this.isLoggedIn?"Sign Out":"Sign In",this.loginScreenTitle="true"===this.isLoggedIn?"Deconnection":"Connection"},mounted:function(){},computed:{},methods:{setTitles:function(t){var e=this;e.loginTitle=this.isLoggedIn===!0?"Deconnecter":"Connecter",e.signInOutTitle=this.isLoggedIn===!0?"Sign Out":"Sign In",e.loginScreenTitle=this.isLoggedIn===!0?"Deconnection":"Connection"},signInOut:function(){var t=this;return t.isLoggedIn===!0?t.signOut():t.signIn()},signIn:function(){var t=this,e=this,n=e.baseUrl+"/user/login?_format=json",s={method:"POST",body:(0,a.default)({name:e.username,pass:e.password}),form_id:"user_login_form",dataType:"json",headers:{"Content-Type":"application/json"}};window.fetch(n,s).then(function(t){return t.json()}).then(function(n){e.isLoggedIn=!0,window.localStorage.setItem("uid",n.current_user.uid),window.localStorage.setItem("username",n.current_user.name),window.sessionStorage.setItem("password",t.password),window.localStorage.setItem("csrfToken",n.csrf_token),window.localStorage.setItem("logoutToken",n.logout_token),window.sessionStorage.setItem("isLoggedIn",!0),e.signInOutTitle="Sign Out",e.loginScreenTitle="Deconnection",e.setTitles(!0)}).catch(function(t){console.debug(t)})},signOut:function(){var t=this,e=this,n=window.sessionStorage.getItem("password"),s=window.localStorage.getItem("username"),i=window.btoa(s+":"+n),a="Basic "+i,o=window.localStorage.getItem("logoutToken"),r=window.localStorage.getItem("csrfToken"),l=e.baseUrl+"/user/logout?csrf_token="+r,c={method:"POST",dataType:"json",credentials:"include",headers:{"Content-Type":"application/json",csrf_token:r,logout_token:o,Authorization:a}};window.fetch(l,c).then(function(t){return t.json()}).then(function(t){return t}).then(function(n){console.log(n),window.sessionStorage.setItem("isLoggedIn","false"),e.signInOutTitle="Sign in",e.loginScreenTitle="Connection",e.isLoggedIn=!1,window.sessionStorage.setItem("password",""),window.localStorage.setItem("csrfToken",""),window.localStorage.setItem("logoutToken",""),window.sessionStorage.setItem("isLoggedIn",!1),t.setTitles(!1)}).catch(function(t){console.debug(t)})},formatTodos:function(t){var e=this;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n].assign_start_shift.split("T"),i=s[0],o=s[1];t[n].assign_start_shift_date=i.substring(8,10)+"/"+i.substring(5,7)+"/"+i.substring(0,4),t[n].assign_start_shift_time=o,t[n].assign_start_shift=t[n].assign_start_shift_date+"-"+o;var r=t[n].assign_end_shift.split("T"),l=r[0],c=r[1];t[n].assign_end_shift_date=l.substring(8,10)+"/"+l.substring(5,7)+"/"+l.substring(0,4),t[n].assign_end_shift_time=c,t[n].assign_end_shift=t[n].assign_end_shift_date+"-"+c;var d=t[n].assign_tasks_description.split("\n\t");for(var u in d)d.hasOwnProperty(u)&&(d[u]=d[u].replace(/[^\x20-\x7E]/gim,""),d[u]=d[u].replace(/<\/?[^>]+(>|$)/g,""),d[u]=d[u].replace(/&nbsp;/gi,""));t[n].assign_tasks_description=d,e.shiftStart=t[n].assign_start_shift,e.site=t[n].assign_site,e.title=t[n].assign_title}t=(0,a.default)(t),window.sessionStorage.setItem("todos",t)},removeDuplicate:function(t){for(var e=this,n=[],s="",i="",a=new Date,o=new Date,r=0;r<t.length;r++)s===t[r].assign_site&&i===t[r].assign_title&&a===t[r].assign_start_shift&&o===t[r].assign_end_shift&&(t[r].assign_tasks_description+=n.assign_tasks_description,t.splice(r-1,1)),a=t[r].assign_start_shift,o=t[r].assign_end_shift,s=t[r].assign_site,i=t[r].assign_title,n=t[r];e.formatTodos(t)}}}},182:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{saveTitle:"Enregistrer",punchCard:null,userEmail:null,baseUrl:null,incident:null,dayBook:null,isLoggedIn:null,hasPunchedIn:null,daybookCreated:null,username:"",uid:""}},created:function(){this.baseUrl=window.localStorage.getItem("baseUrl"),this.punchCard=window.localStorage.getItem("punchCard"),this.userEmail=window.localStorage.getItem("userEmail"),this.incident=window.localStorage.getItem("incident"),this.dayBook=window.localStorage.getItem("dayBook"),this.isLoggedIn=window.localStorage.getItem("isLoggedIn"),this.hasPunchedIn=window.localStorage.getItem("hasPunchedIn"),this.daybookCreated=window.localStorage.getItem("daybookCreated"),this.username=window.localStorage.getItem("username"),this.uid=window.localStorage.getItem("uid")},methods:{saveParameters:function(){var t=this;window.localStorage.setItem("baseUrl",t.baseUrl),window.localStorage.setItem("punchCard",t.punchCard),window.localStorage.setItem("userEmail",t.userEmail),window.localStorage.setItem("incident",t.incident),window.localStorage.setItem("dayBook",t.dayBook),window.sessionStorage.setItem("isLoggedIn",t.isLoggedIn),window.localStorage.setItem("hasPunchedIn",t.hasPunchedIn),window.localStorage.setItem("daybookCreated",t.daybookCreated),window.localStorage.setItem("username",t.username),window.localStorage.setItem("uid",t.uid)}}}},183:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=s(i),o=n(178),r=s(o);e.default={data:function(){return{todos:[],showAlert:!0}},mounted:function(){Array.isArray(this.todos)&&this.todos.length||this.displayData(),this.todos=JSON.parse(window.sessionStorage.getItem("todos"))},components:{"vue-pull-refresh":r.default},methods:{displayData:function(){this.todos=JSON.parse(window.sessionStorage.getItem("todos")),null===this.todos&&this.onRefresh()},onRefresh:function(){var t=this,e=window.localStorage.getItem("baseUrl"),n=window.localStorage.getItem("username"),s=window.localStorage.getItem("uid"),i=window.sessionStorage.getItem("password");""===i&&(i="agent");var a=window.btoa(n+":"+i),o="Basic "+a,r=window.sessionStorage.getItem("csrfToken"),l=e+"/api/assign/"+s+"?_format=hal_json";console.log(l);var c={method:"GET",dataType:"json",headers:{Authorization:o,"X-CSRF-Token":r,Accept:"application/hal+json","Content-Type":"application/hal+json"}};window.fetch(l,c).then(function(t){return t.json()}).then(function(e){t.formatTodos(e)}).catch(function(t){console.debug(t)})},formatTodos:function(t){var e=this;t=e.removeDuplicates(t,"assign_title");for(var n in t)if(t.hasOwnProperty(n)){var s=t[n].assign_start_shift.split("T"),i=s[0],o=s[1];t[n].assign_start_shift_date=i.substring(8,10)+"/"+i.substring(5,7)+"/"+i.substring(0,4),t[n].assign_start_shift_time=o,t[n].assign_start_shift=t[n].assign_start_shift_date+"-"+o;var r=t[n].assign_end_shift.split("T"),l=r[0],c=r[1];t[n].assign_end_shift_date=l.substring(8,10)+"/"+l.substring(5,7)+"/"+l.substring(0,4),t[n].assign_end_shift_time=c,t[n].assign_end_shift=t[n].assign_end_shift_date+"-"+c,e.shiftStart=t[n].assign_start_shift,e.site=t[n].assign_site,e.title=t[n].assign_title}e.todos=(0,a.default)(t),window.sessionStorage.setItem("todos",e.todos),console.log(e.todos)},removeDuplicates:function(t,e){var n=[],s={};for(var i in t)s[t[i][e]]=t[i];for(i in s)n.push(s[i]);return n}}}},184:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(193),a=s(i),o=n(9),r=s(o);e.default={data:function(){return{message:"",subject:"",navTitle:"",daybookCreated:Boolean()}},methods:{sendDaybook:function(){var t=this;t.daybookCreated=window.localStorage.getItem("daybookCreated"),"true"===t.daybookCreated?t.createDaybookComment(this.subject,this.message):t.createDaybook(this.subject,this.message)},createDaybook:function(t,e){var n=this,s=window.localStorage.getItem("baseUrl"),i=window.localStorage.getItem("csrfToken"),a=window.sessionStorage.getItem("password"),o=window.localStorage.getItem("username"),l=window.localStorage.getItem("uid"),c=window.btoa(o+":"+a),d="Basic "+c,u=s+"/jsonapi/node/daybook_daybook_node?_format=api_json",g={data:{type:"node--daybook_daybook_node",attributes:{status:!0,title:o,body:e},relationships:{uid:{data:{type:"user--user",id:l}}}}},m={method:"POST",headers:{Authorization:d,"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json","X-CSRF-Token":i},body:(0,r.default)(g)};window.fetch(u,m).then(function(t){return t.json()}).then(function(t){window.localStorage.setItem("daybookCreated",!0),window.localStorage.setItem("idDaybook",t.data.id),window.localStorage.setItem("uuidDaybook",t.data.attributes.uuid),window.localStorage.setItem("nidDaybook",t.data.attributes.nid),console.log(t),n.$router.back()}).catch(function(t){console.debug(t)})},createDaybookComment:function(t,e){var n=this,s=window.localStorage.getItem("baseUrl"),i=s+"/rest/session/token";window.fetch(i).then(function(t){return t.text()}).then(function(i){var o=window.sessionStorage.getItem("password"),l=window.localStorage.getItem("username"),c=window.btoa(l+":"+o),d="Basic "+c,u=window.sessionStorage.getItem("nidDaybook"),g=window.localStorage.getItem("uid"),m=s+"/entity/comment?_format=hal_json",p=(0,r.default)(s+"/rest/relation/comment/comment/entity_id"),f={_links:(0,a.default)({type:{href:s+"/rest/type/comment/comment"}},p,{href:s+"/rest/type/comment/comment/node/"+u}),entity_id:[{target_id:u}],entity_type:[{value:"node--daybook_daybook_node"}],comment_type:[{target_id:"comment"}],status:[{value:"1"}],field_name:[{value:"comment"}],subject:[{value:t}],uid:[{target_id:g}],name:[{value:l}],comment_body:[{value:e}]},h={method:"POST",body:(0,r.default)(f),mode:"no-cors",header:{Authorization:d,"Content-Type":"application/hal+json",Accept:"application/hal+json","X-CSRF-Token":i,"Access-Control-Allow-Credentials":"http://localhost:8080"}};window.fetch(m,h).then(function(t){return t.json()}).then(function(t){window.localStorage.setItem("daybookCreated",!0),window.localStorage.setItem("idDaybook",t.data.id),window.localStorage.setItem("uuidDaybook",t.data.attributes.uuid),window.localStorage.setItem("nidDaybook",t.data.attributes.nid),console.log(t),n.$router.back()}).catch(function(t){console.debug(t)})}).catch(function(t){console.debug(t)})},getCsrfToken:function(){var t=window.localStorage.getItem("baseUrl"),e=t+"/rest/session/token";window.fetch(e).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){console.debug(t)})}}}},185:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),a=s(i),o=n(9),r=s(o);e.default={data:function(){return{uploadTitle:"Telecharger",incidentTitle:null,incidentDescr:null,selectedFile:null,incidentDate:null,dataToPost:null}},components:{},created:function(){},methods:{onFileChanged:function(t){function e(t){var e=s.result;if(e){var i=e.split("base64,");i[1]&&n.uploadDrupalImage(i[1])}}this.selectedFile=t.target.files[0],t.preventDefault();var n=this,s=new window.FileReader;s.onload=e,s.readAsDataURL(this.selectedFile)},readFile:function(t){function e(t){var e=s.result;if(e){var i=e.split("base64,");i[1]&&n.uploadDrupalImage(i[1])}}var n=this,s=new window.FileReader;s.onload=e,s.readAsArrayBuffer(t)},uploadDrupalImage:function(t){var e=this,n=window.localStorage.getItem("baseUrl");e.dataToPost={links:{type:"file--file"},filename:[{value:this.selectedFile.name}],uri:[{value:"public://pictures/2018-11/"+this.selectedFile.name,url:(0,r.default)(n+"/sites/default/files/2018-11/"+this.selectedFile.name)}],filemime:[{value:this.selectedFile.type}],data:[{value:t}]}},onUpload:function(){var t=this,e=new Date;e.setSeconds(0),e.setMilliseconds(0),t.incidentDate=e.toISOString().split(".")[0];var n=window.localStorage.getItem("baseUrl"),s=window.localStorage.getItem("username"),i=window.localStorage.getItem("csrfToken"),a=window.sessionStorage.getItem("password"),o=n+"/jsonapi/node/daybook_incident_node?_format=api_json",l=window.btoa(s+":"+a),c="Basic "+l,d={data:{type:"daybook_incident_node",attributes:{title:t.incidentTitle,body:{value:t.incidentDescr},field_dbk_incident_date:t.incidentDate,field_dbk_incident_photos:t.dataToPost}}},u=(0,r.default)(d);console.log(u);var g={method:"POST",body:(0,r.default)(d),credentials:"include",headers:{Authorization:c,"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json","X-CSRF-Token":i}};window.fetch(o,g).then(function(t){return t.json()}).then(function(e){console.log(e),t.$router.back()}).catch(function(t){console.debug(t)})},loadImage:function(t){return new a.default(function(e,n){var s=new window.Image;s.addEventListener("load",function(t){return e(s)}),s.addEventListener("error",function(){n(new Error("Failed to load image's URL: "+t))}),s.src=t})},previewImage:function(t){var e=this,n=t.target;if(n.files&&n.files[0]){var s=new window.FileReader;s.onload=function(t){e.imageData=t.target.result},s.readAsDataURL(n.files[0]),console.log(s)}},getImageDataURL:function(t,e,n){var s=void 0,i=void 0,a=void 0,o=new window.Image;i=document.createElement("myCanvas"),i.width=o.width,i.height=o.height,a=i.getContext("2d"),a.drawImage(o,0,0);try{o.src=t,s=i.toDataURL(),e({image:o,data:s})}catch(t){n(t)}try{o.src=t}catch(t){n(t)}},onSuccess:function(t){document.body.appendChild(t.image),window.alert(t.data)},onError:function(t){window.alert(t.message)},convertImgToDataURLviaCanvas:function(t,e,n){var s=new window.Image;s.crossOrigin="Anonymous",s.onload=function(){var t=document.createElement("CANVAS"),s=t.getContext("2d"),i=void 0;t.height=this.height,t.width=this.width,s.drawImage(this,0,0),i=t.toDataURL(n),e(i),t=null},s.src=t},convertFileToDataURLviaFileReader:function(t){}}}},186:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(194),a=s(i),o=n(9),r=s(o),l=n(178),c=s(l),d=n(179);e.default={data:function(){return{tasks:[{title:"",task:{instruction:"",checked:""}}],hasOwnProperty:Object.prototype.hasOwnProperty,daybookCreated:Boolean()}},swipeout:{noFollow:!0,removeElements:!0},computed:{},created:function(){this.tasks=JSON.parse(window.localStorage.getItem("tasks")),this.isEmpty(this.tasks)&&this.onRefresh()},mounted:function(){},components:{"vue-pull-refresh":c.default,vueHammer:d.VueHammer},methods:{displayData:function(){null!==this.tasks&&0!==this.tasks.length||this.onRefresh(),this.tasks=JSON.parse(window.localStorage.getItem("tasks"))},onRefresh:function(){var t=this,e=window.localStorage.getItem("baseUrl"),n=e+"/rest/session/token";window.fetch(n).then(function(t){if(!t.ok)throw Error(t.statusText);return t.text()}).then(function(n){var s=window.localStorage.getItem("username"),i=window.localStorage.getItem("uid"),a=window.sessionStorage.getItem("password"),o=window.btoa(s+":"+a),r="Basic "+o,l=e+"/api/tasks/"+i+"?_format=hal_json",c={method:"GET",headers:{Authorization:r,"X-CSRF-Token":n,Accept:"application/hal+json","Content-Type":"application/hal+json"}};window.fetch(l,c).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(e){return t.saveDaybookData(e)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},saveDaybookData:function(t){var e=0,n=[],s=[],i=[];try{for(var a in t)t.hasOwnProperty(a)&&(s[a]=t[a].title[0],t[a].list=t[a].list.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),n[e]=t[e].list.split("<li>").filter(function(t){return t.indexOf("</li>")>-1}).map(function(t){return t.split("</li>")[0]}),e++);for(var o=0;o<n.length;o++){i.title=s[o];for(var l=0;l<n[o].length;l++){var c={};c.instruction=n[o][l].replace(/(<|&lt;)br\s*\/*(>|&gt;)/g," "),c.checked=!1,i.push(c)}}window.localStorage.setItem("tasks",(0,r.default)(i))}catch(t){console.debug(t.message)}},isEmpty:function(t){if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;if("object"!==("undefined"==typeof t?"undefined":(0,a.default)(t)))return!0;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}}}},187:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=s(i);e.default={data:function(){return{signInOutTitle:"Sign In",loginScreenOpened:!1,username:null,password:null,baseUrl:null,uid:null,todos:[],errors:[],isLoggedIn:!1,loginTitle:"Connecter",loginScreenTitle:"Connection"}},created:function(){this.baseUrl=window.localStorage.getItem("baseUrl"),this.username=window.localStorage.getItem("username"),this.uid=window.localStorage.getItem("uid"),this.isLoggedIn=window.sessionStorage.getItem("isLoggedIn"),this.password=window.sessionStorage.getItem("password"),this.loginTitle="true"===this.isLoggedIn?"Deconnecter":"Connecter",this.signInOutTitle="true"===this.isLoggedIn?"Sign Out":"Sign In",this.loginScreenTitle="true"===this.isLoggedIn?"Deconnection":"Connection"},mounted:function(){},computed:{},methods:{setTitles:function(t){var e=this;e.loginTitle=this.isLoggedIn===!0?"Deconnecter":"Connecter",e.signInOutTitle=this.isLoggedIn===!0?"Sign Out":"Sign In",e.loginScreenTitle=this.isLoggedIn===!0?"Deconnection":"Connection"},signInOut:function(){var t=this;return"true"===t.isLoggedIn?t.signOut():t.signIn()},signIn:function(){var t=this;t.baseUrl=window.localStorage.getItem("baseUrl"),""===t.baseUrl&&(t.baseUrl="http://smartstreamzryubnfhac.devcloud.acquia-sites.com");var e=t.baseUrl+"/user/login?_format=json",n={method:"POST",body:(0,a.default)({name:t.username,pass:t.password}),crossdomain:!0,dataType:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}};window.fetch(e,n).then(function(t){return t.json()}).then(function(n){t.isLoggedIn=!0,window.localStorage.setItem("uid",n.current_user.uid),window.localStorage.setItem("username",n.current_user.name),window.sessionStorage.setItem("password",t.password),window.localStorage.setItem("csrfToken",n.csrf_token),window.localStorage.setItem("logoutToken",n.logout_token),window.sessionStorage.setItem("isLoggedIn",!0),t.signInOutTitle="Sign Out",t.loginScreenTitle="Deconnection",t.setTitles(!0),t.$router.back(),console.log(e)}).catch(function(t){console.debug(t)})},signOut:function(){var t=this,e=this,n=window.sessionStorage.getItem("password"),s=window.localStorage.getItem("username"),i=window.btoa(s+":"+n),a="Basic "+i,o=window.localStorage.getItem("logoutToken"),r=window.localStorage.getItem("csrfToken"),l=e.baseUrl+"/user/logout",c={method:"POST",dataType:"json",headers:{"Content-Type":"application/json",csrf_token:r,logout_token:o,Authorization:a,Accept:"application/json, application/hal_json"}};window.fetch(l,c).then(function(t){return t.json()}).then(function(t){return t}).then(function(n){console.log(n),window.sessionStorage.setItem("isLoggedIn","false"),e.signInOutTitle="Sign in",e.loginScreenTitle="Connection",e.isLoggedIn=!1,window.sessionStorage.setItem("password",""),window.localStorage.setItem("csrfToken",""),window.localStorage.setItem("logoutToken",""),window.sessionStorage.setItem("isLoggedIn",!1),t.setTitles(!1),e.$router.back()}).catch(function(t){console.debug(t)})},formatTodos:function(t){var e=this;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n].assign_start_shift.split("T"),i=s[0],o=s[1];t[n].assign_start_shift_date=i.substring(8,10)+"/"+i.substring(5,7)+"/"+i.substring(0,4),t[n].assign_start_shift_time=o,t[n].assign_start_shift=t[n].assign_start_shift_date+"-"+o;var r=t[n].assign_end_shift.split("T"),l=r[0],c=r[1];t[n].assign_end_shift_date=l.substring(8,10)+"/"+l.substring(5,7)+"/"+l.substring(0,4),t[n].assign_end_shift_time=c,t[n].assign_end_shift=t[n].assign_end_shift_date+"-"+c;var d=t[n].assign_tasks_description.split("\n\t");for(var u in d)d.hasOwnProperty(u)&&(d[u]=d[u].replace(/[^\x20-\x7E]/gim,""),d[u]=d[u].replace(/<\/?[^>]+(>|$)/g,""),d[u]=d[u].replace(/&nbsp;/gi,""));t[n].assign_tasks_description=d,e.shiftStart=t[n].assign_start_shift,e.site=t[n].assign_site,e.title=t[n].assign_title}t=(0,a.default)(t),window.sessionStorage.setItem("todos",t)}}}},188:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),a=s(i),o=n(36),r=s(o),l=n(1),c=s(l);e.default={data:function(){return{username:"",lat:"",lng:"",punchDate:"",site:"",hasPunchedIn:Boolean(),navTitle:"Prise de service",baseUrl:"",token:"",uid:"",password:"",siteId:""}},mounted:function(){this.getPunchData();var t=window.localStorage.getItem("hasPunchedIn");this.navTitle=t===!0?"Fin de service":"Prise de service",this.baseUrl=window.localStorage.getItem("baseUrl"),this.username=window.localStorage.getItem("username"),this.token=window.localStorage.getItem("csrfToken"),this.uid=window.localStorage.getItem("uid"),this.password=window.sessionStorage.getItem("password")},methods:{onSend:function(){var t=this,e=window.localStorage.getItem("hasPunchedIn");"true"===e?t.punchOut():t.punchIn()},getPunchData:function(){var t=this;t.getCoordinates().then(function(t){return t},function(t){return console.warn("failed to obtain coordinates - ",t),{lat:null,long:null}}).then(function(e){t.showData(e)}).catch(function(t){console.error("error: ",t)})},getCoordinates:function(){return new r.default(function(t,e){function n(n){var s="";try{s={lat:n.coords.latitude,lng:n.coords.longitude}}catch(t){return e(t)}return t(s)}if(!("geolocation"in navigator&&"getCurrentPosition"in navigator.geolocation))return r.default.reject(new Error("geolocation API not available"));var s={timeout:1e4};navigator.geolocation.getCurrentPosition(n,e,s)})},punchOut:function(){var t=this,e=this,n=window.localStorage.getItem("baseUrl"),s=n+"/rest/session/token";window.fetch(s).then(function(t){return t.text()}).then(function(n){console.log(n);var s=window.btoa(t.username+":"+t.password),i="Basic "+s,o=window.sessionStorage.getItem("uuid"),r=window.localStorage.getItem("uid"),l=e.baseUrl+"/jsonapi/node/daybook_punch_card_node/"+o+"?_format=api_json",c={data:{type:"node--daybook_punch_card_node",id:o,attributes:{status:!0,title:e.username,field_dbk_punch_end:e.punchDate,field_dbk_punch_geo_end:{lat:e.lat,lng:e.lng}},relationships:{uid:{data:{type:"user--user",id:r}}}}},d={method:"PATCH",body:(0,a.default)(c),header:{"X-CSRF-Token":(0,a.default)(n),Authorization:i,"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json"}};window.fetch(l,d).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(t){window.localStorage.setItem("hasPunchedIn",!1),window.sessionStorage.setItem("id",""),window.sessionStorage.setItem("uuid",""),window.sessionStorage.setItem("nid",""),e.$router.back()}).catch(function(t){console.log(t)})}).catch(function(t){console.debug(t)})},punchIn:function(){var t=this,e=window.localStorage.getItem("csrfToken"),n=window.localStorage.getItem("uid"),s=window.localStorage.getItem("baseUrl"),i=window.sessionStorage.getItem("password"),o=window.localStorage.getItem("username"),r=window.btoa(o+":"+i),l="Basic "+r,c=s+"/jsonapi/node/daybook_punch_card_node?_format=api_json",d={data:{type:"node--daybook_punch_card_node",attributes:{status:!0,title:t.username,field_dbk_punch_agent:t.uid,field_dbk_punch_site:t.site,field_dbk_punch_start:t.punchDate,field_dbk_punch_geo_start:{lat:t.lat,lng:t.lng}},relationships:{uid:{data:{type:"user--user",id:n}}}}},u={method:"POST",headers:{Authorization:l,"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json","X-CSRF-Token":e},body:(0,a.default)(d)};window.fetch(c,u).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).then(function(e){window.localStorage.setItem("hasPunchedIn",!0),window.sessionStorage.setItem("id",e.data.id),window.sessionStorage.setItem("uuid",e.data.attributes.uuid),window.sessionStorage.setItem("nid",e.data.attributes.nid),console.log(e),t.$router.back()}).catch(function(t){console.log(t)})},showData:function(t){var e=this,n=new Date;n.setSeconds(0),n.setMilliseconds(0),e.punchDate=n.toISOString().split(".")[0],e.lat=t.lat,e.lng=t.lng;var s=(0,c.default)().startOf("day"),i=JSON.parse(window.sessionStorage.getItem("todos"));for(var a in i)if(i.hasOwnProperty(a)){var o=i[a].assign_start_shift_date,r=o.substring(6,10)+"-"+o.substring(3,5)+"-"+o.substring(0,2);o=(0,c.default)(r,"YYYY-MM-DD");var l=c.default.duration(o.diff(s)).asDays();0===l&&(e.site=i[a].assign_site)}e.username=window.localStorage.getItem("username")},getPunchStatus:function(){this.hasPunchedIn=window.localStorage.getItem("hasPunchedIn")},getCsrfToken:function(){var t=this,e=t.baseUrl+"/rest/session/token";window.fetch(e).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){console.debug(t)})}}}},236:function(t,e){},237:function(t,e){},238:function(t,e){},239:function(t,e){},240:function(t,e){},241:function(t,e){},245:function(t,e,n){function s(t){return n(i(t))}function i(t){return a[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var a={"./af":55,"./af.js":55,"./ar":62,"./ar-dz":56,"./ar-dz.js":56,"./ar-kw":57,"./ar-kw.js":57,"./ar-ly":58,"./ar-ly.js":58,"./ar-ma":59,"./ar-ma.js":59,"./ar-sa":60,"./ar-sa.js":60,"./ar-tn":61,"./ar-tn.js":61,"./ar.js":62,"./az":63,"./az.js":63,"./be":64,"./be.js":64,"./bg":65,"./bg.js":65,"./bm":66,"./bm.js":66,"./bn":67,"./bn.js":67,"./bo":68,"./bo.js":68,"./br":69,"./br.js":69,"./bs":70,"./bs.js":70,"./ca":71,"./ca.js":71,"./cs":72,"./cs.js":72,"./cv":73,"./cv.js":73,"./cy":74,"./cy.js":74,"./da":75,"./da.js":75,"./de":78,"./de-at":76,"./de-at.js":76,"./de-ch":77,"./de-ch.js":77,"./de.js":78,"./dv":79,"./dv.js":79,"./el":80,"./el.js":80,"./en-au":81,"./en-au.js":81,"./en-ca":82,"./en-ca.js":82,"./en-gb":83,"./en-gb.js":83,"./en-ie":84,"./en-ie.js":84,"./en-il":85,"./en-il.js":85,"./en-nz":86,"./en-nz.js":86,"./eo":87,"./eo.js":87,"./es":90,"./es-do":88,"./es-do.js":88,"./es-us":89,"./es-us.js":89,"./es.js":90,"./et":91,"./et.js":91,"./eu":92,"./eu.js":92,"./fa":93,"./fa.js":93,"./fi":94,"./fi.js":94,"./fo":95,"./fo.js":95,"./fr":98,"./fr-ca":96,"./fr-ca.js":96,"./fr-ch":97,"./fr-ch.js":97,"./fr.js":98,"./fy":99,"./fy.js":99,"./gd":100,"./gd.js":100,"./gl":101,"./gl.js":101,"./gom-latn":102,"./gom-latn.js":102,"./gu":103,"./gu.js":103,"./he":104,"./he.js":104,"./hi":105,"./hi.js":105,"./hr":106,"./hr.js":106,"./hu":107,"./hu.js":107,"./hy-am":108,"./hy-am.js":108,"./id":109,"./id.js":109,"./is":110,"./is.js":110,"./it":111,"./it.js":111,"./ja":112,"./ja.js":112,"./jv":113,"./jv.js":113,"./ka":114,"./ka.js":114,"./kk":115,"./kk.js":115,"./km":116,"./km.js":116,"./kn":117,"./kn.js":117,"./ko":118,"./ko.js":118,"./ky":119,"./ky.js":119,"./lb":120,"./lb.js":120,"./lo":121,"./lo.js":121,"./lt":122,"./lt.js":122,"./lv":123,"./lv.js":123,"./me":124,"./me.js":124,"./mi":125,"./mi.js":125,"./mk":126,"./mk.js":126,"./ml":127,"./ml.js":127,"./mn":128,"./mn.js":128,"./mr":129,"./mr.js":129,"./ms":131,"./ms-my":130,"./ms-my.js":130,"./ms.js":131,"./mt":132,"./mt.js":132,"./my":133,"./my.js":133,"./nb":134,"./nb.js":134,"./ne":135,"./ne.js":135,"./nl":137,"./nl-be":136,"./nl-be.js":136,"./nl.js":137,"./nn":138,"./nn.js":138,"./pa-in":139,"./pa-in.js":139,"./pl":140,"./pl.js":140,"./pt":142,"./pt-br":141,"./pt-br.js":141,"./pt.js":142,"./ro":143,"./ro.js":143,"./ru":144,"./ru.js":144,"./sd":145,"./sd.js":145,"./se":146,"./se.js":146,"./si":147,"./si.js":147,"./sk":148,"./sk.js":148,"./sl":149,"./sl.js":149,"./sq":150,"./sq.js":150,"./sr":152,"./sr-cyrl":151,"./sr-cyrl.js":151,"./sr.js":152,"./ss":153,"./ss.js":153,"./sv":154,"./sv.js":154,"./sw":155,"./sw.js":155,"./ta":156,"./ta.js":156,"./te":157,"./te.js":157,"./tet":158,"./tet.js":158,"./tg":159,"./tg.js":159,"./th":160,"./th.js":160,"./tl-ph":161,"./tl-ph.js":161,"./tlh":162,"./tlh.js":162,"./tr":163,"./tr.js":163,"./tzl":164,"./tzl.js":164,"./tzm":166,"./tzm-latn":165,"./tzm-latn.js":165,"./tzm.js":166,"./ug-cn":167,"./ug-cn.js":167,"./uk":168,"./uk.js":168,"./ur":169,"./ur.js":169,"./uz":171,"./uz-latn":170,"./uz-latn.js":170,"./uz.js":171,"./vi":172,"./vi.js":172,"./x-pseudo":173,"./x-pseudo.js":173,"./yo":174,"./yo.js":174,"./zh-cn":175,"./zh-cn.js":175,"./zh-hk":176,"./zh-hk.js":176,"./zh-tw":177,"./zh-tw.js":177};s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id=245},249:function(t,e,n){n(241);var s=n(8)(n(181),n(263),"data-v-7ee8e50c",null);t.exports=s.exports},250:function(t,e,n){var s=n(8)(n(182),n(257),null,null);t.exports=s.exports},251:function(t,e,n){n(239);var s=n(8)(n(183),n(260),"data-v-586e6afc",null);t.exports=s.exports},252:function(t,e,n){n(238);var s=n(8)(n(184),n(258),null,null);t.exports=s.exports},253:function(t,e,n){var s=n(8)(n(185),n(264),null,null);t.exports=s.exports},254:function(t,e,n){n(240);var s=n(8)(n(186),n(262),"data-v-781956f4",null);t.exports=s.exports},255:function(t,e,n){var s=n(8)(n(187),n(259),null,null);t.exports=s.exports},256:function(t,e,n){var s=n(8)(n(188),n(261),null,null);t.exports=s.exports},257:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{"parameters-screen":""}},[n("f7-navbar",{attrs:{title:"","back-link":"",sliding:""}}),t._v(" "),n("div",{staticClass:"block-title"},[n("h4",[t._v("Parametres de connexion")])]),t._v(" "),n("f7-list",{attrs:{form:"",id:"parameters-screen-form"}},[n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userEmail,expression:"userEmail"}],attrs:{type:"email",placeholder:"Votre e-mail"},domProps:{value:t.userEmail},on:{input:function(e){e.target.composing||(t.userEmail=e.target.value)}}}),t._v("\n          "+t._s(t.userEmail)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"},[t._v("e-mail")])])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.baseUrl,expression:"baseUrl"}],attrs:{type:"url",placeholder:"Addresse du site web - URL"},domProps:{value:t.baseUrl},on:{input:function(e){e.target.composing||(t.baseUrl=e.target.value)}}}),t._v("\n          "+t._s(t.baseUrl)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"},[t._v("Addresse du site web - URL")])])]),t._v(" "),n("f7-list-item",{
staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.punchCard,expression:"punchCard"}],attrs:{type:"text",placeholder:"Nom du contenu Badge"},domProps:{value:t.punchCard},on:{input:function(e){e.target.composing||(t.punchCard=e.target.value)}}}),t._v("\n          "+t._s(t.punchCard)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.incident,expression:"incident"}],attrs:{type:"text",placeholder:"Nom du contenu Incident"},domProps:{value:t.incident},on:{input:function(e){e.target.composing||(t.incident=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dayBook,expression:"dayBook"}],attrs:{type:"text",placeholder:"Nom du contenu Main courante"},domProps:{value:t.dayBook},on:{input:function(e){e.target.composing||(t.dayBook=e.target.value)}}}),t._v("\n          "+t._s(t.dayBook)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("f7-label",[t._v("isLoggedIn")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.isLoggedIn,expression:"isLoggedIn"}],attrs:{type:"text",placeholder:"is logged in"},domProps:{value:t.isLoggedIn},on:{input:function(e){e.target.composing||(t.isLoggedIn=e.target.value)}}}),t._v("\n          "+t._s(t.isLoggedIn)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})],1)]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("f7-label",[t._v("hasPunchedIn")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.hasPunchedIn,expression:"hasPunchedIn"}],attrs:{type:"text",placeholder:"has Punched In"},domProps:{value:t.hasPunchedIn},on:{input:function(e){e.target.composing||(t.hasPunchedIn=e.target.value)}}}),t._v("\n          "+t._s(t.hasPunchedIn)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})],1)]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("f7-label",[t._v("daybookCreated")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.daybookCreated,expression:"daybookCreated"}],attrs:{type:"text",placeholder:"daybookCreated"},domProps:{value:t.daybookCreated},on:{input:function(e){e.target.composing||(t.daybookCreated=e.target.value)}}}),t._v("\n          "+t._s(t.daybookCreated)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})],1)]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("f7-label",[t._v("User")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v("\n          "+t._s(t.username)+"   "+t._s(t.uid)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})],1)])],1),t._v(" "),n("div",{staticClass:"block"},[n("div",{staticClass:"row"},[n("span",[t._v(" ")]),t._v(" "),n("button",{staticClass:"button col",attrs:{"close-parameters-screen":""},on:{click:t.saveParameters},model:{value:t.saveTitle,callback:function(e){t.saveTitle=e},expression:"saveTitle"}},[t._v(t._s(t.saveTitle))]),t._v(" "),n("span",[t._v(" ")])])])],1)},staticRenderFns:[]}},258:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"daybook"}},[n("f7-navbar",{attrs:{title:t.navTitle,"back-link":"",sliding:""}}),t._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-item",[n("f7-input",{attrs:{type:"text",value:t.subject,placeholder:"sujet du message","clear-button":""},on:{input:function(e){t.subject=e.target.value}}})],1),t._v(" "),n("f7-list-item",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{placeholder:"message main courante"},domProps:{textContent:t._s(t.message),value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),t._v(" "),n("span",{staticClass:"input-clear-button"})]),t._v(" "),n("f7-list-button",{on:{click:function(e){t.sendDaybook()}}},[t._v("Envoyer")])],1)],1)},staticRenderFns:[]}},259:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{"no-toolbar":"","no-navbar":"","no-swipeback":"","login-screen":""}},[n("f7-login-screen-title"),t._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-item",[n("f7-input",{attrs:{name:"name",placeholder:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("span",{staticClass:"input-clear-button"})],1),t._v(" "),n("f7-list-item",[n("f7-input",{attrs:{name:"pass",type:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("span",{staticClass:"input-clear-button"})],1)],1),t._v(" "),n("f7-list",[n("f7-list-button",{attrs:{"close-login-screen":""},on:{click:t.signInOut},model:{value:t.signInOutTitle,callback:function(e){t.signInOutTitle=e},expression:"signInOutTitle"}},[t._v(t._s(t.signInOutTitle))])],1)],1)},staticRenderFns:[]}},260:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"","back-link":""}}),t._v(" "),n("div",{staticClass:"page-content"},[n("div",{staticClass:"content-block-title"},[t._v("Liste des Affectations")]),t._v(" "),n("div",{staticClass:"list-block accordion-list"},[n("ul",t._l(t.todos,function(e){return n("li",{key:e.assign_title,staticClass:"accordion-item"},[n("a",{staticClass:"item-content item-link",attrs:{href:"#"}},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title"},[t._v(t._s(e.assign_start_shift_date)+" ")]),t._v(" "),n("div",{staticClass:"item-after"},[n("span",{staticClass:"badge color-blue"},[t._v(t._s(e.assign_start_shift_time))])])])]),t._v(" "),n("div",{staticClass:"accordion-item-content"},[n("div",{staticClass:"content-block"},[n("h3",[n("strong",[n("em",[t._v(t._s(e.assign_site))])])]),t._v(" "),n("p",[n("span",{class:{alert:t.showAlert}},[n("strong",[n("em",[t._v("Début: ")])]),t._v(t._s(e.assign_start_shift))])]),t._v(" "),n("p",[n("span",{class:{alert:t.showAlert}},[n("strong",[n("em",[t._v("Fin : ")])]),t._v(t._s(e.assign_end_shift))])]),t._v(" "),n("p",[t._v(t._s(e.assign_site_address)+"   "+t._s(e.assign_site_locality)+"   "+t._s(e.assign_site_postal_code))]),t._v(" "),n("p",[t._v(t._s(e.assign_locality)+" ")]),t._v(" "),n("p",[t._v(t._s(e.assign_postal_code)+" ")]),t._v(" "),n("section",{attrs:{"aria-labelledby":"obs-label"}},[n("h4",{attrs:{id:"obs-label"}},[t._v("Observations")]),t._v(" "),n("p",[t._v(t._s(e.assign_observations))])])])])])}))])])],1)},staticRenderFns:[]}},261:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"punchclock"}},[n("f7-navbar",{attrs:{title:t.navTitle,"back-link":"",sliding:""}}),t._v(" "),n("f7-block",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v(t._s(t.site))]),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"list media-list"},[n("ul",[n("li",{staticClass:"item-content"},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title-row"},[n("div",{staticClass:"item-title"},[t._v("Usager: "+t._s(t.username))])])])]),t._v(" "),n("li",{staticClass:"item-content"},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title-row"},[n("div",{staticClass:"item-title"},[t._v("Date: "+t._s(t.punchDate))])])])]),t._v(" "),n("li",{staticClass:"item-content"},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title-row"},[n("div",{staticClass:"item-title"},[t._v("Latitude: "+t._s(t.lat))])])])]),t._v(" "),n("li",{staticClass:"item-content"},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title-row"},[n("div",{staticClass:"item-title"},[t._v("Longitude: "+t._s(t.lng))])])])])]),t._v(" "),n("f7-list",[n("f7-list-button",{attrs:{title:"Envoyer"},on:{click:t.onSend}})],1)],1)])])])],1)},staticRenderFns:[]}},262:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",[n("f7-navbar",{attrs:{title:"","back-link":""}}),t._v(" "),n("div",{staticClass:"page-content"},[n("div",{staticClass:"content-block-title"},[t._v("Main courante")]),t._v(" "),n("ul",t._l(t.tasks,function(e,s){return n("li",{directives:[{name:"hammer",rawName:"v-hammer:swipe.left",value:function(n){return t.onSwipeLeft(n,e,s)},expression:"(event)=> onSwipeLeft(event, node, index)",arg:"swipe",modifiers:{left:!0}}],key:s,staticClass:"swipeout deleted-callback"},[n("div",{staticClass:"item-content swipeout-content"},[n("div",{staticClass:"item-inner"},[n("div",{staticClass:"item-title"},[t._v(" "+t._s(s+1)+"\n                              "),n("div",{staticClass:"item-after"},[t._v(t._s(e.instruction))])])])]),t._v(" "),n("div",{staticClass:"swipeout-actions-right"},[n("a",{staticClass:"swipeout-delete",attrs:{href:"#"}})])])}))])],1)},staticRenderFns:[]}},263:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("f7-statusbar"),t._v(" "),n("f7-views",[n("f7-view",{attrs:{id:"main-view",url:"/","navbar-through":"","dynamic-navbar":!0,main:""}},[n("f7-navbar",[n("f7-nav-center",{attrs:{sliding:""}},[t._v("               Mobile Daybook")]),t._v(" "),n("f7-nav-right",[n("f7-link",{attrs:{icon:"icon-bars","open-panel":"right"}})],1)],1),t._v(" "),n("f7-pages",[t.errors.length?n("p",[n("b",[t._v("SVP Corriger le(s)s erreur(s) suivante(s):")]),t._v(" "),n("ul",t._l(t.errors,function(e){return n("li",[t._v(t._s(e))])}))]):t._e(),t._v(" "),n("f7-page",[n("f7-block-title",[t._v("Navigation")]),t._v(" "),n("f7-list",[n("f7-list-item",{attrs:{link:"/login/",title:"Connect/Deconnect"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/activities/",title:"Affectations"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/instructions/",title:"Instructions"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/punchclock/",title:"Badge"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/daybook/",title:"Main courante"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/incident/",title:"Incident"}}),t._v(" "),n("f7-list-item",{attrs:{link:"/parameters/",title:"Parametres"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]}},264:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{"parameters-screen":""}},[n("f7-navbar",{attrs:{title:"Parametres","back-link":"Retour",sliding:""}}),t._v(" "),n("f7-list",{attrs:{form:"",id:"parameters-screen-form"}},[n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.incidentTitle,expression:"incidentTitle"}],attrs:{type:"text",placeholder:"Titre incident"},domProps:{value:t.incidentTitle},on:{input:function(e){e.target.composing||(t.incidentTitle=e.target.value)}}}),t._v("\n          "+t._s(t.incidentTitle)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"},[t._v("e-mail")])])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.incidentDescr,expression:"incidentDescr"}],attrs:{type:"text",placeholder:"Description incident"},domProps:{value:t.incidentDescr},on:{input:function(e){e.target.composing||(t.incidentDescr=e.target.value)}}}),t._v("\n          "+t._s(t.incidentDescr)+"\n          "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})])]),t._v(" "),n("f7-list-item",{staticClass:"item-content item-input item-input-with-info"},[n("div",{staticClass:"item-input-wrap"},[n("input",{attrs:{type:"file",name:"url"},on:{change:t.onFileChanged}}),t._v(" "),n("span",{staticClass:"input-clear-button"}),t._v(" "),n("div",{staticClass:"item-input-info"})])])],1),t._v(" "),n("div",{staticClass:"block"},[n("div",{staticClass:"row"},[n("span",[t._v(" ")]),t._v(" "),n("button",{staticClass:"button col",attrs:{"close-parameters-screen":""},on:{click:t.onUpload}},[t._v(t._s(t.uploadTitle))]),t._v(" "),n("span",[t._v(" ")])])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.810cdabfb8dafb3595e8.js.map